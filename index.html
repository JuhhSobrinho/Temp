<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Surpresa â¤ï¸</title>
    <link rel="stylesheet" href="./style.css">
  </head>
  <body>

    <!-- Carrossel -->
    <div class="carrossel">
      <div class="slides">
        <img src="./src/IMG-20240614-WA0041.jpg" alt="Foto 1">
        <img src="./src/IMG-20240614-WA0043.jpg" alt="Foto 2">
        <img src="./src/IMG-20240113-WA0003.jpg" alt="Foto 3">
        <img src="./src/IMG-20231111-WA0002.jpg" alt="Foto 4">
        <img src="./src/IMG-20230917-WA0007.jpg" alt="Foto 5">
        <img src="./src/IMG-20230703-WA0029.jpg" alt="Foto 6">
        <img src="./src/IMG-20230506-WA0038.jpg" alt="Foto 7">
        <img src="./src/IMG-20230506-WA0025.jpg" alt="Foto 8">
        <img src="./src/IMG-20220909-WA0018.jpg" alt="Foto 9">
        <img src="./src/IMG-20220701-WA0027.jpg" alt="Foto 10">
        <img src="./src/IMG_20241224_195642.jpg" alt="Foto 11">
        <img src="./src/IMG_20221106_163053_135.jpg" alt="Foto 12">
        <img src="./src/IMG_20221106_162854_297.jpg" alt="Foto 13">
        <img src="./src/IMG_20220820_161156_694.webp" alt="Foto 14">

        <img src="./src/IMG-20240614-WA0042.jpg" alt="Foto 15">
        <img src="./src/IMG-20240324-WA0044.jpg" alt="Foto 16">
        <img src="./src/IMG-20231111-WA0002 (1).jpg" alt="Foto 17">
        <img src="./src/IMG-20230917-WA0012.jpg" alt="Foto 18">
        <img src="./src/IMG-20230910-WA0005.jpg" alt="Foto 19">
        <img src="./src/IMG-20230703-WA0028.jpg" alt="Foto 20">
        <img src="./src/IMG-20230703-WA0022.jpg" alt="Foto 21">
        <img src="./src/IMG-20230604-WA0008.jpg" alt="Foto 22">
        <img src="./src/IMG-20230507-WA0001.jpg" alt="Foto 23">
        <img src="./src/IMG-20230506-WA0031.jpg" alt="Foto 24">
        <img src="./src/IMG-20230305-WA0001.jpg" alt="Foto 25">
        <img src="./src/IMG_20221106_163233_961.jpg" alt="Foto 26">
        <img src="./src/IMG-20220909-WA0018 (1).jpg" alt="Foto 27">
        <img src="./src/IMG_20220611_160145_036.webp" alt="Foto 28">
      </div>
      <div class="controles">
        <button onclick="mudarSlide(-1)">â®</button>
        <button onclick="mudarSlide(1)">â¯</button>
      </div>
    </div>

    <!-- MÃºsica -->
    <button class="musica-btn" onclick="tocarMusica()">ğŸµ Tocar MÃºsica</button>
    <audio id="musica" src="./src/Rubel.mp3" autoplay loop muted></audio>

    <script>
    /* ===== Fundo animado ===== */
    const frases = [
      "Eu te amo â¤ï¸",
      "Saudade ğŸ˜˜",
      "Meu bem ğŸ’•",
      "VocÃª Ã© especial ğŸŒ¹",
      "Sempre com vocÃª ğŸ’–",
      "Amor eterno ğŸ’",
      "Meu coraÃ§Ã£o Ã© seu ğŸ’“",
      "VocÃª me faz sorrir ğŸ˜Š",
      "Minha vida ğŸ’",
      "Te quero sempre ğŸ’Œ",
      "OIIIII GATINHAAA ğŸ’“",
      "meu Girasol ğŸ’“",
      "Bemzinhoooo ğŸ’“",
      "vidinha minhağŸ’“",
      "Ã‰ sÃ³ vc ğŸ’“"
    ];

function criarItem(x = Math.random() * window.innerWidth, y = -50) {
  const minDist = 80; // distÃ¢ncia mÃ­nima em pixels entre itens na horizontal
  const ativos = document.querySelectorAll(".item");
  let tentativas = 0;

  // Garante que nÃ£o vai nascer muito perto de outro
  while (tentativas < 10) {
    let sobreposto = false;
    ativos.forEach(el => {
      const elX = parseFloat(el.style.left);
      if (Math.abs(elX - x) < minDist) {
        sobreposto = true;
      }
    });
    if (!sobreposto) break;
    x = Math.random() * window.innerWidth;
    tentativas++;
  }

  const item = document.createElement("div");
  item.classList.add("item");
  item.style.left = x + "px";
  item.style.top = y + "px";
  item.style.zIndex = 2;

  // Define texto e cor
  if (Math.random() < 0.6) {
    item.innerText = "â¤ï¸";
  } else {
    item.innerText = frases[Math.floor(Math.random() * frases.length)];
  }
  item.style.color = `hsl(${Math.random() * 360}, 100%, 70%)`;

  document.body.appendChild(item);

  const carrosselRect = document.querySelector(".carrossel").getBoundingClientRect();
  let top = parseFloat(item.style.top);
  const velocidade = 1 + Math.random();

  const animar = setInterval(() => {
    top += velocidade;
    item.style.top = top + "px";

    const itemRect = item.getBoundingClientRect();
    const sobreCarrossel =
      itemRect.right > carrosselRect.left &&
      itemRect.left < carrosselRect.right &&
      itemRect.bottom > carrosselRect.top &&
      itemRect.top < carrosselRect.bottom;

    item.style.opacity = sobreCarrossel ? 0.1 : 1;

    if (top > window.innerHeight) {
      clearInterval(animar);
      item.remove();
    }
  }, 16);
}


    // Fundo animado automÃ¡tico
    setInterval(() => {
      for (let i = 0; i < 5; i++) {
        criarItem();
      }
    }, 300);

    // Fundo animado ao clique
    document.body.addEventListener("click", (e) => {
      for (let i = 0; i < 20; i++) {
        setTimeout(() => criarItem(
          e.clientX + Math.random() * 120 - 60,
          e.clientY + Math.random() * 120 - 60
        ), i * 40);
      }
    });

    document.body.addEventListener("touchstart", (e) => {
      const touch = e.touches[0];
      for (let i = 0; i < 20; i++) {
        setTimeout(() => criarItem(
          touch.clientX + Math.random() * 120 - 60,
          touch.clientY + Math.random() * 120 - 60
        ), i * 40);
      }
    });

    /* ===== Carrossel ===== */
    let slideIndex = 0;
    const slides = document.querySelector(".slides");
    const totalSlides = document.querySelectorAll(".slides img").length;

    function mudarSlide(direcao) {
      slideIndex = (slideIndex + direcao + totalSlides) % totalSlides;
      slides.style.transform = `translateX(${-slideIndex * 100}%)`;
    }

    setInterval(() => {
      mudarSlide(1);
    }, 4000);

    /* ===== MÃºsica ===== */
    const musica = document.getElementById("musica");

    function tocarMusica() {
      if (musica.paused) {
        musica.play();
      } else {
        musica.pause();
      }
    }

    document.addEventListener("click", () => {
      if (musica.muted) {
        musica.muted = false;
        musica.play();
      }
    });
  </script>

  </body>
</html>
